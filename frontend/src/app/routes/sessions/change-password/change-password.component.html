<div class="w-full" fxLayout="row wrap" fxLayoutAlign="center center" *ngIf="!loading; else loadingTpl">
    <mat-card class="mat-elevation-z4 m-b-0" style="max-width: 380px;">
        <mat-card-title class="text-center m-b-24">Đổi mật khẩu người dùng</mat-card-title>
        <mat-card-content>
            <form class="form-field-full" [formGroup]="reactiveForm">
                <mat-form-field appearance="outline">
                    <mat-label>Mật khẩu cũ</mat-label>
                    <input matInput placeholder="Mật khẩu cũ" type="password" formControlName="oldPassword" required>
                    <mat-error *ngIf="reactiveForm.get('oldPassword').hasError('required')">{{ errors.required }}</mat-error>
                    <mat-error *ngIf="reactiveForm.get('oldPassword').hasError('passwordInvalid')">{{ errors.passwordInvalid }}</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Mật khẩu mới</mat-label>
                    <input matInput placeholder="Mật khẩu mới" type="password" formControlName="newPassword"
                        required>
                    <mat-error *ngIf="reactiveForm.get('newPassword').hasError('required')">{{ errors.required }}</mat-error>
                    <mat-error *ngIf="reactiveForm.get('newPassword').hasError('passwordInvalid')">{{ errors.passwordInvalid }}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Xác nhận mật khẩu</mat-label>
                    <input matInput placeholder="Xác nhận mật khẩu mới" type="password" formControlName="confirmPassword"
                        required>
                    <mat-error *ngIf="reactiveForm.get('confirmPassword').hasError('required')">{{ errors.required }}</mat-error>
                    <mat-error *ngIf="reactiveForm.get('confirmPassword').hasError('passwordInvalid')">{{ errors.passwordInvalid }}</mat-error>
                    <mat-error *ngIf="reactiveForm.get('confirmPassword').hasError('confirmPassNotMatch')">{{ errors.confirmPassNotMatch }}</mat-error>
                </mat-form-field>

                <button class="w-full" mat-raised-button color="primary" (click)="submit()"
                    [disabled]="reactiveForm.invalid">Đổi mật khẩu</button>
                <button class="w-full" mat-raised-button (click)="goBack()" >Quay lại</button>
            </form>
        </mat-card-content>
    </mat-card>
</div>

<ng-template #loadingTpl>
    <app-loading></app-loading>
</ng-template>